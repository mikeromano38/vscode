# Example Google GenAI Toolbox Tools Configuration
# This file shows the structure of the tools configuration that will be
# automatically generated by the MCP integration service.

sources:
  bigquery-source:
    kind: bigquery
    project_id: "your-project-id"
    credentials: "default"

tools:
  # General BigQuery tool for any SQL query
  bigquery-general:
    kind: bigquery-sql
    source: bigquery-source
    description: "Execute general BigQuery SQL queries"
    parameters:
      - name: query
        type: string
        description: "SQL query to execute"
    statement: "${query}"

  # Table-specific tools (automatically generated for each open table)
  query-sales-data-sales_table:
    kind: bigquery-sql
    source: bigquery-source
    description: "Query the sales_table table in sales-data dataset"
    parameters:
      - name: query
        type: string
        description: "SQL query to execute on the table"
    statement: "SELECT * FROM `your-project-id.sales-data.sales_table` WHERE 1=1"

  query-analytics-user_events:
    kind: bigquery-sql
    source: bigquery-source
    description: "Query the user_events table in analytics dataset"
    parameters:
      - name: query
        type: string
        description: "SQL query to execute on the table"
    statement: "SELECT * FROM `your-project-id.analytics.user_events` WHERE 1=1"

  # Example of more specific tools
  get-sales-summary:
    kind: bigquery-sql
    source: bigquery-source
    description: "Get a summary of sales data"
    parameters:
      - name: date_from
        type: string
        description: "Start date (YYYY-MM-DD)"
      - name: date_to
        type: string
        description: "End date (YYYY-MM-DD)"
    statement: |
      SELECT 
        DATE(date) as sale_date,
        COUNT(*) as total_sales,
        SUM(amount) as total_revenue
      FROM `your-project-id.sales-data.sales_table`
      WHERE DATE(date) BETWEEN '${date_from}' AND '${date_to}'
      GROUP BY DATE(date)
      ORDER BY sale_date

  get-user-activity:
    kind: bigquery-sql
    source: bigquery-source
    description: "Get user activity summary"
    parameters:
      - name: days_back
        type: integer
        description: "Number of days to look back"
    statement: |
      SELECT 
        user_id,
        COUNT(*) as event_count,
        COUNT(DISTINCT DATE(timestamp)) as active_days
      FROM `your-project-id.analytics.user_events`
      WHERE timestamp >= TIMESTAMP_SUB(CURRENT_TIMESTAMP(), INTERVAL ${days_back} DAY)
      GROUP BY user_id
      ORDER BY event_count DESC

toolsets:
  # General BigQuery tools
  bigquery-general:
    - bigquery-general

  # Dataset-specific toolsets
  bigquery-sales-data:
    - query-sales-data-sales_table
    - get-sales-summary

  bigquery-analytics:
    - query-analytics-user_events
    - get-user-activity

  # All tools
  bigquery-all:
    - bigquery-general
    - query-sales-data-sales_table
    - query-analytics-user_events
    - get-sales-summary
    - get-user-activity 